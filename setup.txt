
/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_
 [タイトル名]  三国志NET
 [バージョン]  ver.2.8 (2005/5/18)
 [配  布  元]  Network Game Project
 [Ｕ  Ｒ  Ｌ]  http://www3.to/maccyu2/
 [電子メール]  komatsuo@mail.goo.ne.jp
/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_

【前書き】
改良中の部分がある為、不具合などがある場合は開発元までご連絡下さい。このスクリプトを使用する場合はいかなる場合をおいても自己責任で使用し、いかなる場合においても開発者（maccyu）及びその関係者はその責任を一切負いません。このスクリプトを使用する場合は以下の注意をよく読んで厳守して下さい。

【利用規約】
・このスクリプトはフリーソフトです。利用者は商用利用者以外は自由に使用することができますが、著作権は放棄していません。
（商用利用者の方は開発者（maccyu）まで御連絡下さい。）
・無料サーバへの設置を禁止。（自宅・専用サーバは可能）
・チャット、ゲームプログラムを禁止しているサーバへの設置を禁止
・アダルトサイト、違法サイトへの設置を禁止
・画像、その他著作物の無断使用の禁止
・利用者は、著作権表示、バージョン情報を削除することはできません。これを削除すると、著作権法に違反することになります。 
・設置に関する質問はすべてサポートコーナーでお受けします。ただし、必ずしも回答があるとは限りませんので、あらかじめご了解ください（回答の義務はないものとします）。直接メールによる設置上の質問にはお答えはいたしておりません。
・サポートに関してはある程度のＣＧＩの知識があるものとしてサポートします。ＣＧＩを設置した事が無い方はまずは簡単なＣＧＩから設置を試してからコチラを設置してください。 
・再配布に関しては禁止します。（どうしてもという場合は開発者（maccyu）まで御連絡ください。）
・原則的に設置する場合は管理者の責任下に置いて設置をして下さい。このスクリプトを使用して発生したいかなる問題にも対応致しません。全て自己責任での使用をお願いします。
※画像はＢＢ氏によって特別に配布させて頂いたものです。他の目的での使用や再配布などは厳禁です。
・この「利用規定」は予告なく改編・加筆を行うことがあります。 

【設定】
public_html / index.html (トップページ)
  |
  +- cgi-bin [755] / index.cgi [755]             # TOPプログラム
        |
        |            以下cgiファイル [755]       # 実行ファイル
        |            suport.pl [644]             # ライブラリファイル
        |            jcode.pl [644]
        |            index.html                  # ダミーファイル
        |
        |            i-index.cgi[755]            # モバイル用プログラム
        |
        +-- entry    [755] / 登録ライブラリ
        |                xxx.pl [644]        # ライブラリファイル
        |                ・
        |                ・（以下省略）
        |
        +-- map      [755] / 地図ライブラリ
        |                xxx.pl [644]        # ライブラリファイル
        |                ・
        |                ・（以下省略）
        |
        +-- mydata   [755] / 自己ライブラリ
        |                xxx.pl [644]        # ライブラリファイル
        |                ・
        |                ・（以下省略）
        |
        +-- command     [755] / コマンドライブラリ
        |                xxx.pl [644]        # ライブラリファイル
        |                ・
        |                ・（以下省略）
        |
        +-- ini_file [755] / 設定ファイル
        |
        |            index.ini [644]        # 設定用ファイル
        |            i-index.ini [644]      # モバイル設定用ファイル
        |            index.html                  # ダミーファイル
        |
        +-- log_file [755] / ログファイル
        |
        |            act_log.cgi [666]                  # アクセサリファイル
        |            以下cgiファイル [666]          # ログファイル
        |
        +-- image [755] / キャラクター画像番号.gif [644]
        |
        |		  index.html		# ダミーファイル
        |         0.gif             # キャラ画像0
        |         1.gif             # キャラ画像1
        |         2.gif             # キャラ画像2
        |         ・
        |         ・
        |         ・
        |
        +-- charalog [755 or 705] / ID.cgi[666]	#新規キャラ作成後自動生成、キャラ引継は下記参照
        |            +--   [755] / main                # 個人データファイル
        |            +--   [755] / command             # 個人コマンドデータファイル
        |            +--   [755] / log                 # 個人ログファイル


【設定方法】
・上記のようにパーミッションを変更し、PERLのパスをサーバに合わせて設定し直してください。
・設定ファイルindex.iniの設定をよく読み、各サーバの設定に変更を直してください。
・管理ツールを使用する場合はadmin.cgiのIDとPASSを変更して下さい。
・キャラ画像、街画像、街の人の画像をそれぞれ各自で用意してください。
・Ver2.5、Ver2.6から2.7へバージョンアップをする場合は全てのファイルを上書きした後初期化して下さい。ゲーム中にバージョンアップすることはできません。

【ゲーム開始方法】
・管理ツールの設定(ini_file/index.ini)をＯＮにして初期化を行ってください。

【変更履歴】
・名将一覧を追加しました。
・給与がもらえないバグの修正
・lockフォルダが消えるバグ修正
・マルチプレート対応
・管理ツール修正
・ファイルロック関係を強化

【改造】
改造に関する技術的な問題、アイデアなどはBBSを用意しましたのでこちらで交流をお願いします。
http://g2.ngw.jp/~maccyu/game/sbbs/c-board.cgi

(補足)変数一覧
	($kid,$kpass,$kname,$kchara,$kstr,$kint,$klea,$kcha,$ksol,$kgat,$kcon,$kgold,$krice,$kcex,$kclass,$karm,$kbook,$kbank,$ksub1,$ksub2,$kpos,$kmes,$khost,$kdate,$kmail,$kos)
	(ID、パス、名前、画像、力、知力、統率力、人望、兵士数、訓練、国ID、金、米、貢献、階級、武器、本、忠誠、経験値、削除ターン、位置、コメント、ホスト、更新日、メール、認証）

*注意*
共有サーバ上で無限ループなどの致命的なエラーを起こすと自分がサーバを使えなくなるだけでなく共同で使用している管理者すべてに迷惑がかかります。修正、改造する場合はローカルサーバ上でテストを行ってから実行するようにして下さい。（ローカルサーバの設定方法はKENT氏の自宅マシンWWWサーバ化計画（http://www.kent-web.com/www/index.html）というページを参考にするといいかも知れません。）

================== 設置（管理）者からよくある質問Q&A ==================
Q.エラーが表示されて何も出てこない。
A.サーバのパスが合っていない可能性があります。またPERLのバージョンが古いとエラーが起きる場合があります。（推奨PERLバージョン5以上）確認して見て下さい。

Q.更新０分から進まない・・
A.アクセスが不足すると更新時間になってもキャラが更新されなくなります。一度リセットをして再度募集を掛けるか更新間隔を長めにとって下さい。目安は更新時間２時間で２００名以上参加が推奨です。

Q.キャラデータが作成されない。
A.フォルダのパーミッションを確認してみてください。またサーバによっては755では作成されない場合があります。その場合は[757]にするかそのサーバにあったパーミッションの設定をお願いします。

Q.存在しない町にいます。
A.街データが破損している可能性があります。logフォルダのtown_data.cgiを確認しておかしいところはないかチェックして見て下さい。f_town_data.cgiが元のデータなので比較してみるといいかも知れません。

Q.アイコンをBBS等に使用したいのですが宜しいでしょうか・・
A.アイコンはBB氏によって三国志NET用に特別に作成されたものゲーム以外での使用を禁止しています。それ以外での使用はご遠慮下さい。

Q.どうして無料サーバに設置してはいけないの？
A.無料サーバは基本的に大勢の方と共同で使用しています。そのリソースをゲームCGIなどで多く消費することはサーバ管理者の手間が増えるだけでなく他の管理者の方にもご迷惑をかけてしまいます。また、無料のサーバでもゲームCGI可能なサーバがありますが基本的に設置禁止をお願いします。

Q.設置の仕方がわかりません。
A.お勉強会BBS(http://g2.ngw.jp/~maccyu/game/sbbs/c-board.cgi)に設置方法など載っている場合もありますのでそちらの参照をお願いします。（※同じ質問がないかどうか検索してから質問しましょう。）基本的に設置に関するサポートは受け付けておりませんのでメール等でのご質問は御遠慮下さい。

Q.ERR No.001そのキャラクターは作れません。管理者に問い合わせて下さい。P1:/entry.cgiって出てしまいますなぜでしょうか？
A.設定ファイルini_fileのindex.iniが正しく設定されていない場合があります。設定を確認して見て下さい。

Q.設置したけどなかなかサイトに人が集まらない・・。
A.komatsuo@mail.goo.ne.jpまでメールを頂ければ設置サイトを診断の結果こちらから三国志NETLINKに登録をさせて頂く場合があります。気軽にご登録下さい。

